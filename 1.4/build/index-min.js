/*!build time : 2014-01-22 6:42:24 PM*/
KISSY.add("gallery/tb-video-player/1.4/index",function(a,b,c,d,e,f){function g(){var a={};if(f.mobile)switch(a.isPC=!1,a.isMobile=!0,f.os){case"ios":a.equipmentType=f.ipad?2:3;break;case"android":a.equipmentType=f.android<3?6:5;break;default:a.equipmentType=6}else a.isPC=!0,a.isMobile=!1,a.equipmentType=1;return a}function h(b){var c=new RegExp(/\d+$/i);if(!c.test(b.vid))return a.log(b.vid+"is illegal!"),void 0;var d="";return d+="http://cloud.video.",d+=b.isDaily?"daily.taobao.net":"taobao.com",d+="/play/u/",d+=b.uid+"/p/",d+=(b.isAutoPlay?1:2)+"/e/",d+=r.equipmentType+"/t/",d+=b.tid+"/",d+=b.vid+".",d+=1===r.equipmentType?"swf":a.inArray(r.equipmentType,[2,3,5])?"m3u8":"mp4"}function i(a){a.flashvars.autoplay=a.isAutoPlay,a.flashvars.poster=a.poster,a.showloadinglogo||(a.flashvars.reservelt=9527),a.flashvars.show_controlbar_logo=a.showlogobtn,a.flashvars.show_fullscreen_button=a.showfullscreenbtn,a.flashvars.show_share_button=a.showsharebutton}function j(b,c,f){i(c);var g="string"==typeof c.container?d.get(c.container):c.container;if(r.isPC)o=new e({src:b,attrs:{width:c.width,height:c.height,id:t},params:{wmode:c.wmode,allowScriptAccess:c.allowScriptAccess,allowFullScreen:c.allowFullScreen,flashVars:c.flashvars},render:g}),window.tbPlayerOnReady=function(){"function"==typeof f&&f(d.get("#"+t))};else{if(!r.isMobile)return a.log("Neither PC or Mobile, tell me what to do..."),void 0;var h=d.create("<video>",{width:c.width,height:c.height,controls:"controls",src:b,id:t});c.poster&&d.attr(h,"poster",c.poster),c.isAutoPlay&&d.attr(h,"autoplay","autoplay"),d.append(h,g),"function"==typeof f&&f(d.get("#"+t))}}function k(){if(r.isPC)o&&o.destroy();else{if(!r.isMobile)return;q("#"+t).detach().remove()}t=a.guid("TbVideoPlayer-"),o=void 0}function l(){d.get("#"+t).pause()}function m(){r.isPC?d.get("#"+t).resume():d.get("#"+t).play()}function n(b,c){var d=this;n.superclass.constructor.call(d,b,c);var e=a.merge(s,b),f=h(e);j(f,e,c)}var o,p="",q=b.all,r=g(),s={vid:p,uid:"727053408",tid:"1",isAutoPlay:!1,width:"100%",height:"100%",isDaily:!1,container:"body",allowScriptAccess:"always",wmode:"transparent",allowFullScreen:!0,poster:p,flashvars:{},showloadinglogo:!0,showlogobtn:!1,showfullscreenbtn:!0,showsharebutton:!0},t=a.guid("TbVideoPlayer-");return a.extend(n,c,{destory:function(){k()},destroy:function(){k()},pause:function(){l()},play:function(){m()}},{ATTRS:{}}),n},{requires:["node","base","dom",KISSY.version<"1.30"?"gallery/gallery/tb-video-player/1.3/core/swf":"swf","ua"]});